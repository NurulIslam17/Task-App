<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<!--Header Fragments-->
<div th:replace =~{common/header::header}></div>
<body>
<!-- NAVBAR -->
<div th:replace =~{common/navbar::navbar}></div>

<!-- SIDEBAR -->
<div th:replace =~{common/sidebar::sidebar}></div>

<!-- MAIN CONTENT -->
<div class="main-content">

    <div class="d-flex justify-content-between align-items-center">
        <div>
            <h3>Assigned Task List</h3>
            <p class="text-muted">Assigned Task List overview</p>
        </div>

        <div>
            <a class="me-1 text-decoration-none" data-toggle="tooltip" data-placement="top" title="Edit"  th:href="@{/dashboard}">
                <i class="bi bi-grid-fill bg-primary text-white p-2 "> </i>
            </a>
            <a class="me-1 text-decoration-none" data-toggle="tooltip" data-placement="top" title="Edit"  th:href="@{/task/assign/list}">
                <i class="bi bi-arrow-clockwise bg-info text-white p-2 "> </i>
            </a>
            <a class="text-decoration-none" data-toggle="tooltip" data-placement="top" title="Edit">
                <i class="bi bi-plus-circle bg-success text-white p-2 "> <span class="mx-1"> Assign Task </span> </i>
            </a>
        </div>

    </div>


    <!-- TABLE -->
    <div class="">

        <div th:if="${param.success}">
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                <strong>Success!</strong> New task added successfully.
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        </div>

        <div th:if="${param.deleted}">
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <strong>Deleted!</strong> Task removed from the list.
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        </div>

        <table class="table table-bordered table-striped table-hover align-middle mt-4">
            <thead class="table-light">
            <tr>
                <th>ID</th>
                <th>Task</th>
                <th>Assignee</th>
                <th>Team Lead</th>
                <th>Description</th>
                <th class="text-center" style="width: 200px;">Action</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="assignList,assignStatus : ${assignList}">
                <td th:text="${assignStatus.count}"></td>
                <td th:text="${assignList.task_id}"></td>
                <td th:text="${assignList.user_id}"></td>
                <td th:text="${assignList.tl_id}"></td>
                <td th:text="${assignList.description}"></td>
                <td class="text-center">
                    <a class="text-decoration-none" data-toggle="tooltip" data-placement="top" title="Edit">
                        <i class="bi bi-pencil-square bg-primary text-white p-2 me-1"></i>
                    </a>
                    <a class="text-decoration-none" data-toggle="tooltip" data-placement="top" title="Assign">
                        <i class="bi bi-person-fill-check bg-info text-black p-2"></i>
                    </a>
                </td>
            </tr>
            </tbody>
        </table>

    </div>

</div>

<footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</footer>

</body>
</html>
